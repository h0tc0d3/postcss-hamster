"use strict";

exports.__esModule = true;
/**
 * @module Helper
 * 
 * @description Constants and Help functions.
 * 
 * @version 1.0
 * @author Grigory Vasilyev <postcss.hamster@gmail.com> https://github.com/h0tc0d3
 * @copyright Copyright (c) 2017, Grigory Vasilyev
 * @license Apache License, Version 2.0, http://www.apache.org/licenses/LICENSE-2.0 
 */

function dotPos(value) {
    var len = value.length;
    do {
        len--;
        if (value.charCodeAt(len) === 46) {
            return len;
        }
    } while (len >= 0);
    return -1;
}

/**
 * Fast Format Float Values.
 * @param {number} value - input value.
 */

// . - 46 0 - 48
function formatValue(value) {
    value = value.toFixed(4);
    var pos = dotPos(value);
    if (pos > -1) {
        var len = value.length;
        var code = 0;
        do {
            len--;
            code = value.charCodeAt(len);
        } while (code === 48 && pos < len || code === 46 && pos === len);

        if (len + 1 === value.length) {
            return value;
        }

        var ret = new safeUint8Array(len + 1);
        for (var j = 0; j <= len; j++) {
            ret[j] = value.charCodeAt(j);
        }
        return String.fromCharCode.apply(null, ret);
    }
    return value;
}

/**
 * Format Number to Int.
 * @param {number} value - input value.
 */

function formatInt(value) {
    return value.toFixed(0);
}

/**
 * Unit List
 */
var UNIT = {
    PX: 1,
    EM: 2,
    REM: 3,
    PERCENT: 4,
    EX: 5,
    PT: 6,
    IN: 7
};

var unitName = ["", "px", "em", "rem", "%", "ex", "pt", "in"];

/**
 * Return Unit to value.
 * @param {string} value - input value.
 */
function getUnit(value) {
    var len = value.length;
    var code1 = value.charCodeAt(len - 1);
    var code2 = value.charCodeAt(len - 2);
    // p 80 112
    // x 88 120
    // t 84 116
    // e 69 101
    // m 77 109
    // r 82 114
    // i 73 105
    // n 78 110
    // % 37
    if (code1 === 37) {
        return UNIT.PERCENT;
    } else if (code2 === 80 || code2 === 112) {
        if (code1 === 88 || code1 === 120) {
            return UNIT.PX;
        } else if (code1 === 84 || code1 === 116) {
            return UNIT.PT;
        }
    } else if ((code1 === 77 || code1 === 109) && (code2 === 69 || code2 === 101)) {
        var code3 = value.charCodeAt(len - 3);
        if (code3 === 82 || code3 === 114) {
            return UNIT.REM;
        }
        return UNIT.EM;
    } else if ((code1 === 78 || code1 === 110) && (code2 === 73 || code2 === 105)) {
        UNIT.IN;
    }

    return 0;
}

/**
 * Regexp for rem value.
 */

var remRegexp = /([0-9\.]+)rem/i;

/**
 * Check value contains string;
 * @param {number} value - input value.
 */

function isHas(value, string) {
    return value.toLowerCase().indexOf(string) > -1;
}

/**
 * Copy Values from object 2 to object 1.
 * @param object1 
 * @param object2 
 * 
 * @return object1
 */
function extend(object1, object2) {

    for (var key in object2) {
        // if(object2.hasOwnProperty(key)){
        object1[key] = object2[key];
        // }
    }

    return object1;
}

var safeUint8Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;

/**
 * To Camel Case string.
 * @param {string} value  - input string.
 */
function toCamelCase(value) {

    var len = value.length;
    var buffer = new safeUint8Array(len);

    // Code: 48-57 Chars: 0-9
    // Code: 65-90 Chars: A-Z 
    // Code: 97-122 Chars: a-z

    var prev = value.charCodeAt(0); // previous char
    var first = true; //is first char
    var count = 0;
    for (var i = 0; i < len; i++) {

        var code = value.charCodeAt(i);

        // Check code is not contain special characters
        if (!(code < 48 || code > 90 && code < 97 || code > 122)) {

            // Check code is not number
            if (!(code >= 48 && code <= 57)) {
                // Is lowercase
                if (code >= 97 && code <= 122) {

                    if (prev < 48 || prev > 90 && prev < 97 || prev > 122) {
                        code = code & 1 + 2 + 4 + 8 + 16 + 0 + 64 + 128; // toUpperCase
                    }
                } else {
                    if (!(prev >= 65 && prev <= 90) || first) {
                        code = code | 32; // toLowerCase
                        if (first) {
                            first = false;
                        }
                    }
                }
            }
            buffer[count] = code;
            count++;
        }
        prev = code;
    }
    // let ret = new safeUint8Array(count);
    // for (let j = 0; j < count; j++) {
    //     ret[j] = buffer[j];
    // }
    return String.fromCharCode.apply(null, buffer.subarray(0, count));
}

/**
 * To Kebab Case string.
 * @param {string} value  - input string.
 */

function toKebabCase(value) {
    var len = value.length;
    var count = 0;
    for (var i = 0; i < len; i++) {
        var code = value.charCodeAt(i);
        if (code >= 65 && code <= 90) {
            count++;
        }
    }
    var buffer = new safeUint8Array(len + count);
    var pos = 0;
    for (var _i = 0; _i < len; _i++) {
        var _code = value.charCodeAt(_i);
        if (_code >= 65 && _code <= 90) {
            buffer[pos] = 45;
            buffer[pos + 1] = _code | 32;
            pos += 2;
        } else {
            buffer[pos] = _code;
            pos++;
        }
    }
    return String.fromCharCode.apply(null, buffer);
}

/**
 * Check string contains number.
 * @param value - inputt string.
 */
function hasNumber(value) {
    var len = value.length;
    for (var i = 0; i < len; i++) {
        var code = value.charCodeAt(i);
        if (code >= 48 && code <= 57) {
            return true;
        }
    }
    return false;
}
/**
 * Compare input string with reference string.
 * @param str - input string
 * @param refStr - reference string
 */
function cmpStr(str, refStr) {

    var len = refStr.length;

    if (len !== str.length) {
        return false;
    }

    for (var i = 0; i < len; i++) {
        var code = str.charCodeAt(i);
        var refCode = refStr.charCodeAt(i);

        if (code >= 65 && code <= 90) {
            code = code | 32;
        }

        if (code !== refCode) {
            return false;
        }
    }

    return true;
}

/**
 * Case sensitive compare strings
 * @param str - input string
 * @param refStr - reference string
 */
function scmpStr(str, refStr) {
    var len = refStr.length;

    if (len !== str.length) {
        return false;
    }

    for (var i = 0; i < len; i++) {

        if (str.charCodeAt(i) !== refStr.charCodeAt(i)) {
            return false;
        }
    }

    return true;
}

/**
 * Export helpers
 */
exports.formatInt = formatInt;
exports.formatValue = formatValue;
exports.remRegexp = remRegexp;
exports.getUnit = getUnit;
exports.isHas = isHas;
exports.extend = extend;
exports.toCamelCase = toCamelCase;
exports.toKebabCase = toKebabCase;
exports.hasNumber = hasNumber;
exports.safeUint8Array = safeUint8Array;
exports.cmpStr = cmpStr;
exports.scmpStr = scmpStr;
exports.UNIT = UNIT;
exports.unitName = unitName;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlbHBlcnMuZXM2Il0sIm5hbWVzIjpbImRvdFBvcyIsInZhbHVlIiwibGVuIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsImZvcm1hdFZhbHVlIiwidG9GaXhlZCIsInBvcyIsImNvZGUiLCJyZXQiLCJzYWZlVWludDhBcnJheSIsImoiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsImZvcm1hdEludCIsIlVOSVQiLCJQWCIsIkVNIiwiUkVNIiwiUEVSQ0VOVCIsIkVYIiwiUFQiLCJJTiIsInVuaXROYW1lIiwiZ2V0VW5pdCIsImNvZGUxIiwiY29kZTIiLCJjb2RlMyIsInJlbVJlZ2V4cCIsImlzSGFzIiwic3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiZXh0ZW5kIiwib2JqZWN0MSIsIm9iamVjdDIiLCJrZXkiLCJVaW50OEFycmF5IiwiQXJyYXkiLCJ0b0NhbWVsQ2FzZSIsImJ1ZmZlciIsInByZXYiLCJmaXJzdCIsImNvdW50IiwiaSIsInN1YmFycmF5IiwidG9LZWJhYkNhc2UiLCJoYXNOdW1iZXIiLCJjbXBTdHIiLCJzdHIiLCJyZWZTdHIiLCJyZWZDb2RlIiwic2NtcFN0ciJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7Ozs7Ozs7Ozs7O0FBWUEsU0FBU0EsTUFBVCxDQUFnQkMsS0FBaEIsRUFBdUI7QUFDbkIsUUFBSUMsTUFBTUQsTUFBTUUsTUFBaEI7QUFDQSxPQUFHO0FBQ0NEO0FBQ0EsWUFBSUQsTUFBTUcsVUFBTixDQUFpQkYsR0FBakIsTUFBMEIsRUFBOUIsRUFBa0M7QUFDOUIsbUJBQU9BLEdBQVA7QUFDSDtBQUNKLEtBTEQsUUFLU0EsT0FBTyxDQUxoQjtBQU1BLFdBQU8sQ0FBQyxDQUFSO0FBQ0g7O0FBRUQ7Ozs7O0FBS0E7QUFDQSxTQUFTRyxXQUFULENBQXFCSixLQUFyQixFQUE0QjtBQUN4QkEsWUFBUUEsTUFBTUssT0FBTixDQUFjLENBQWQsQ0FBUjtBQUNBLFFBQUlDLE1BQU1QLE9BQU9DLEtBQVAsQ0FBVjtBQUNB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USIsImZpbGUiOiJIZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBtb2R1bGUgSGVscGVyXHJcbiAqIFxyXG4gKiBAZGVzY3JpcHRpb24gQ29uc3RhbnRzIGFuZCBIZWxwIGZ1bmN0aW9ucy5cclxuICogXHJcbiAqIEB2ZXJzaW9uIDEuMFxyXG4gKiBAYXV0aG9yIEdyaWdvcnkgVmFzaWx5ZXYgPHBvc3Rjc3MuaGFtc3RlckBnbWFpbC5jb20+IGh0dHBzOi8vZ2l0aHViLmNvbS9oMHRjMGQzXHJcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE3LCBHcmlnb3J5IFZhc2lseWV2XHJcbiAqIEBsaWNlbnNlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCwgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIFxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBkb3RQb3ModmFsdWUpIHtcclxuICAgIGxldCBsZW4gPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgbGVuLS07XHJcbiAgICAgICAgaWYgKHZhbHVlLmNoYXJDb2RlQXQobGVuKSA9PT0gNDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlbjtcclxuICAgICAgICB9XHJcbiAgICB9IHdoaWxlIChsZW4gPj0gMCk7XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGYXN0IEZvcm1hdCBGbG9hdCBWYWx1ZXMuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIGlucHV0IHZhbHVlLlxyXG4gKi9cclxuXHJcbi8vIC4gLSA0NiAwIC0gNDhcclxuZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdmFsdWUudG9GaXhlZCg0KTtcclxuICAgIGxldCBwb3MgPSBkb3RQb3ModmFsdWUpO1xyXG4gICAgaWYgKHBvcyA+IC0xKSB7XHJcbiAgICAgICAgbGV0IGxlbiA9IHZhbHVlLmxlbmd0aDtcclxuICAgICAgICBsZXQgY29kZSA9IDA7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBsZW4tLTtcclxuICAgICAgICAgICAgY29kZSA9IHZhbHVlLmNoYXJDb2RlQXQobGVuKTtcclxuICAgICAgICB9IHdoaWxlICgoY29kZSA9PT0gNDggJiYgcG9zIDwgbGVuKSB8fCAoY29kZSA9PT0gNDYgJiYgcG9zID09PSBsZW4pKTtcclxuXHJcbiAgICAgICAgaWYgKChsZW4gKyAxKSA9PT0gdmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXQgPSBuZXcgc2FmZVVpbnQ4QXJyYXkobGVuICsgMSk7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gbGVuOyBqKyspIHtcclxuICAgICAgICAgICAgcmV0W2pdID0gdmFsdWUuY2hhckNvZGVBdChqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgcmV0KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdCBOdW1iZXIgdG8gSW50LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBpbnB1dCB2YWx1ZS5cclxuICovXHJcblxyXG5mdW5jdGlvbiBmb3JtYXRJbnQodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKDApO1xyXG59XHJcblxyXG4vKipcclxuICogVW5pdCBMaXN0XHJcbiAqL1xyXG5jb25zdCBVTklUID0ge1xyXG4gICAgUFg6IDEsXHJcbiAgICBFTTogMixcclxuICAgIFJFTTogMyxcclxuICAgIFBFUkNFTlQ6IDQsXHJcbiAgICBFWDogNSxcclxuICAgIFBUOiA2LFxyXG4gICAgSU46IDdcclxufTtcclxuXHJcbmNvbnN0IHVuaXROYW1lID0gW1wiXCIsIFwicHhcIiwgXCJlbVwiLCBcInJlbVwiLCBcIiVcIiwgXCJleFwiLCBcInB0XCIsIFwiaW5cIl07XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBVbml0IHRvIHZhbHVlLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBpbnB1dCB2YWx1ZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldFVuaXQodmFsdWUpIHtcclxuICAgIGxldCBsZW4gPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICBsZXQgY29kZTEgPSB2YWx1ZS5jaGFyQ29kZUF0KGxlbiAtIDEpO1xyXG4gICAgbGV0IGNvZGUyID0gdmFsdWUuY2hhckNvZGVBdChsZW4gLSAyKTtcclxuICAgIC8vIHAgODAgMTEyXHJcbiAgICAvLyB4IDg4IDEyMFxyXG4gICAgLy8gdCA4NCAxMTZcclxuICAgIC8vIGUgNjkgMTAxXHJcbiAgICAvLyBtIDc3IDEwOVxyXG4gICAgLy8gciA4MiAxMTRcclxuICAgIC8vIGkgNzMgMTA1XHJcbiAgICAvLyBuIDc4IDExMFxyXG4gICAgLy8gJSAzN1xyXG4gICAgaWYgKGNvZGUxID09PSAzNykge1xyXG4gICAgICAgIHJldHVybiBVTklULlBFUkNFTlQ7XHJcbiAgICB9IGVsc2UgaWYgKGNvZGUyID09PSA4MCB8fCBjb2RlMiA9PT0gMTEyKSB7XHJcbiAgICAgICAgaWYgKGNvZGUxID09PSA4OCB8fCBjb2RlMSA9PT0gMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBVTklULlBYO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29kZTEgPT09IDg0IHx8IGNvZGUxID09PSAxMTYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFVOSVQuUFQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICgoY29kZTEgPT09IDc3IHx8IGNvZGUxID09PSAxMDkpICYmIChjb2RlMiA9PT0gNjkgfHwgY29kZTIgPT09IDEwMSkpIHtcclxuICAgICAgICBsZXQgY29kZTMgPSB2YWx1ZS5jaGFyQ29kZUF0KGxlbiAtIDMpO1xyXG4gICAgICAgIGlmICgoY29kZTMgPT09IDgyIHx8IGNvZGUzID09PSAxMTQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBVTklULlJFTTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFVOSVQuRU07XHJcbiAgICB9IGVsc2UgaWYgKChjb2RlMSA9PT0gNzggfHwgY29kZTEgPT09IDExMCkgJiYgKGNvZGUyID09PSA3MyB8fCBjb2RlMiA9PT0gMTA1KSkge1xyXG4gICAgICAgIFVOSVQuSU47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiAwO1xyXG59XHJcblxyXG4vKipcclxuICogUmVnZXhwIGZvciByZW0gdmFsdWUuXHJcbiAqL1xyXG5cclxuY29uc3QgcmVtUmVnZXhwID0gLyhbMC05XFwuXSspcmVtL2k7XHJcblxyXG4vKipcclxuICogQ2hlY2sgdmFsdWUgY29udGFpbnMgc3RyaW5nO1xyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBpbnB1dCB2YWx1ZS5cclxuICovXHJcblxyXG5mdW5jdGlvbiBpc0hhcyh2YWx1ZSwgc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cmluZykgPiAtMTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBDb3B5IFZhbHVlcyBmcm9tIG9iamVjdCAyIHRvIG9iamVjdCAxLlxyXG4gKiBAcGFyYW0gb2JqZWN0MSBcclxuICogQHBhcmFtIG9iamVjdDIgXHJcbiAqIFxyXG4gKiBAcmV0dXJuIG9iamVjdDFcclxuICovXHJcbmZ1bmN0aW9uIGV4dGVuZChvYmplY3QxLCBvYmplY3QyKSB7XHJcblxyXG4gICAgZm9yIChsZXQga2V5IGluIG9iamVjdDIpIHtcclxuICAgICAgICAvLyBpZihvYmplY3QyLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgIG9iamVjdDFba2V5XSA9IG9iamVjdDJba2V5XTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iamVjdDE7XHJcblxyXG59XHJcblxyXG52YXIgc2FmZVVpbnQ4QXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiA/IFVpbnQ4QXJyYXkgOiBBcnJheTtcclxuXHJcbi8qKlxyXG4gKiBUbyBDYW1lbCBDYXNlIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlICAtIGlucHV0IHN0cmluZy5cclxuICovXHJcbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHZhbHVlKSB7XHJcblxyXG4gICAgbGV0IGxlbiA9IHZhbHVlLmxlbmd0aDtcclxuICAgIGxldCBidWZmZXIgPSBuZXcgc2FmZVVpbnQ4QXJyYXkobGVuKTtcclxuXHJcbiAgICAvLyBDb2RlOiA0OC01NyBDaGFyczogMC05XHJcbiAgICAvLyBDb2RlOiA2NS05MCBDaGFyczogQS1aIFxyXG4gICAgLy8gQ29kZTogOTctMTIyIENoYXJzOiBhLXpcclxuXHJcbiAgICBsZXQgcHJldiA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7IC8vIHByZXZpb3VzIGNoYXJcclxuICAgIGxldCBmaXJzdCA9IHRydWU7IC8vaXMgZmlyc3QgY2hhclxyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuXHJcbiAgICAgICAgbGV0IGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBjb2RlIGlzIG5vdCBjb250YWluIHNwZWNpYWwgY2hhcmFjdGVyc1xyXG4gICAgICAgIGlmICghKGNvZGUgPCA0OCB8fCAoY29kZSA+IDkwICYmIGNvZGUgPCA5NykgfHwgY29kZSA+IDEyMikpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGNvZGUgaXMgbm90IG51bWJlclxyXG4gICAgICAgICAgICBpZiAoIShjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJcyBsb3dlcmNhc2VcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlID49IDk3ICYmIGNvZGUgPD0gMTIyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2IDwgNDggfHwgKHByZXYgPiA5MCAmJiBwcmV2IDwgOTcpIHx8IHByZXYgPiAxMjIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgJiAoMSArIDIgKyA0ICsgOCArIDE2ICsgMCArIDY0ICsgMTI4KTsgLy8gdG9VcHBlckNhc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShwcmV2ID49IDY1ICYmIHByZXYgPD0gOTApIHx8IGZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb2RlIHwgMzI7IC8vIHRvTG93ZXJDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidWZmZXJbY291bnRdID0gY29kZTtcclxuICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldiA9IGNvZGU7XHJcbiAgICB9XHJcbiAgICAvLyBsZXQgcmV0ID0gbmV3IHNhZmVVaW50OEFycmF5KGNvdW50KTtcclxuICAgIC8vIGZvciAobGV0IGogPSAwOyBqIDwgY291bnQ7IGorKykge1xyXG4gICAgLy8gICAgIHJldFtqXSA9IGJ1ZmZlcltqXTtcclxuICAgIC8vIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1ZmZlci5zdWJhcnJheSgwLCBjb3VudCkpO1xyXG59XHJcblxyXG4vKipcclxuICogVG8gS2ViYWIgQ2FzZSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAgLSBpbnB1dCBzdHJpbmcuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gdG9LZWJhYkNhc2UodmFsdWUpIHtcclxuICAgIGxldCBsZW4gPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGxldCBjb2RlID0gdmFsdWUuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKSB7XHJcbiAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGJ1ZmZlciA9IG5ldyBzYWZlVWludDhBcnJheShsZW4gKyBjb3VudCk7XHJcbiAgICBsZXQgcG9zID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBsZXQgY29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA5MCkge1xyXG4gICAgICAgICAgICBidWZmZXJbcG9zXSA9IDQ1O1xyXG4gICAgICAgICAgICBidWZmZXJbcG9zICsgMV0gPSBjb2RlIHwgMzI7XHJcbiAgICAgICAgICAgIHBvcyArPSAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltwb3NdID0gY29kZTtcclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnVmZmVyKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIHN0cmluZyBjb250YWlucyBudW1iZXIuXHJcbiAqIEBwYXJhbSB2YWx1ZSAtIGlucHV0dCBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNOdW1iZXIodmFsdWUpIHtcclxuICAgIGxldCBsZW4gPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8qKlxyXG4gKiBDb21wYXJlIGlucHV0IHN0cmluZyB3aXRoIHJlZmVyZW5jZSBzdHJpbmcuXHJcbiAqIEBwYXJhbSBzdHIgLSBpbnB1dCBzdHJpbmdcclxuICogQHBhcmFtIHJlZlN0ciAtIHJlZmVyZW5jZSBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGNtcFN0cihzdHIsIHJlZlN0cikge1xyXG5cclxuICAgIGxldCBsZW4gPSByZWZTdHIubGVuZ3RoO1xyXG5cclxuICAgIGlmIChsZW4gIT09IHN0ci5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgdmFyIHJlZkNvZGUgPSByZWZTdHIuY2hhckNvZGVBdChpKTtcclxuXHJcbiAgICAgICAgaWYgKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA5MCkge1xyXG4gICAgICAgICAgICBjb2RlID0gY29kZSB8IDMyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvZGUgIT09IHJlZkNvZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENhc2Ugc2Vuc2l0aXZlIGNvbXBhcmUgc3RyaW5nc1xyXG4gKiBAcGFyYW0gc3RyIC0gaW5wdXQgc3RyaW5nXHJcbiAqIEBwYXJhbSByZWZTdHIgLSByZWZlcmVuY2Ugc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBzY21wU3RyKHN0ciwgcmVmU3RyKSB7XHJcbiAgICBsZXQgbGVuID0gcmVmU3RyLmxlbmd0aDtcclxuXHJcbiAgICBpZiAobGVuICE9PSBzdHIubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuXHJcbiAgICAgICAgaWYgKHN0ci5jaGFyQ29kZUF0KGkpICE9PSByZWZTdHIuY2hhckNvZGVBdChpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogRXhwb3J0IGhlbHBlcnNcclxuICovXHJcbmV4cG9ydCB7XHJcbiAgICBmb3JtYXRJbnQsXHJcbiAgICBmb3JtYXRWYWx1ZSxcclxuICAgIHJlbVJlZ2V4cCxcclxuICAgIGdldFVuaXQsXHJcbiAgICBpc0hhcyxcclxuICAgIGV4dGVuZCxcclxuICAgIHRvQ2FtZWxDYXNlLFxyXG4gICAgdG9LZWJhYkNhc2UsXHJcbiAgICBoYXNOdW1iZXIsXHJcbiAgICBzYWZlVWludDhBcnJheSxcclxuICAgIGNtcFN0cixcclxuICAgIHNjbXBTdHIsXHJcbiAgICBVTklULFxyXG4gICAgdW5pdE5hbWVcclxufTsiXX0=
